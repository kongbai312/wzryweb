import{j as L,d as p,n as u,a9 as C,b as n,E as R,ao as y,y as k,ap as w,r as _,w as P,t as T,P as B,k as F,o as D,g as V,p as o,f as I,i as $,F as E,a0 as M}from"./index-M4brf8cj.js";import"./index-uSd81ZUp.js";import{F as H}from"./index-BL0mUOwP.js";import{_ as U}from"./narback.vue_vue_type_script_setup_true_lang-Ba80wPVm.js";import{u as j}from"./use-expose-DPr-92Zh.js";import{I as O,_ as Z}from"./_plugin-vue_export-helper-BQC3p5UF.js";import"./use-route-BrlykrmF.js";import"./use-id-Bia0DeqN.js";import"./use-placeholder-ChelFdm0.js";const q={figureArr:R(),delay:Number,duration:y(2),isStart:Boolean,direction:k("down"),height:y(40)},[z,b]=L("rolling-text-item");var G=p({name:z,props:q,setup(t){const l=u(()=>t.direction==="down"?t.figureArr.slice().reverse():t.figureArr),i=u(()=>`-${t.height*(t.figureArr.length-1)}px`),f=u(()=>({lineHeight:C(t.height)})),s=u(()=>({height:C(t.height),"--van-translate":i.value,"--van-duration":t.duration+"s","--van-delay":t.delay+"s"}));return()=>n("div",{class:b([t.direction]),style:s.value},[n("div",{class:b("box",{animate:t.isStart})},[Array.isArray(l.value)&&l.value.map(c=>n("div",{class:b("item"),style:f.value},[c]))])])}});const[J,K]=L("rolling-text"),Q={startNum:y(0),targetNum:Number,textList:R(),duration:y(2),autoStart:T,direction:k("down"),stopOrder:k("ltr"),height:y(40)},W=2;var X=p({name:J,props:Q,setup(t){const l=u(()=>Array.isArray(t.textList)&&t.textList.length),i=u(()=>l.value?t.textList[0].length:`${Math.max(t.startNum,t.targetNum)}`.length),f=a=>{const e=[];for(let d=0;d<t.textList.length;d++)e.push(t.textList[d][a]);return e},s=u(()=>l.value?new Array(i.value).fill(""):w(t.targetNum,i.value).split("")),c=u(()=>w(t.startNum,i.value).split("")),x=a=>{const e=+c.value[a],d=+s.value[a],v=[];for(let r=e;r<=9;r++)v.push(r);for(let r=0;r<=W;r++)for(let g=0;g<=9;g++)v.push(g);for(let r=0;r<=d;r++)v.push(r);return v},N=(a,e)=>t.stopOrder==="ltr"?.2*a:.2*(e-1-a),m=_(t.autoStart),h=()=>{m.value=!0},A=()=>{m.value=!1,t.autoStart&&B(()=>h())};return P(()=>t.autoStart,a=>{a&&h()}),j({start:h,reset:A}),()=>n("div",{class:K()},[s.value.map((a,e)=>n(G,{figureArr:l.value?f(e):x(e),duration:t.duration,direction:t.direction,isStart:m.value,height:t.height,delay:N(e,i.value)},null))])}});const Y=F(X),tt={class:"randomNum_container"},et={class:"control_box"},at=p({__name:"randomNum",setup(t){const l=_(),i=()=>{var a;(a=l.value)==null||a.start()},f=()=>{var a;(a=l.value)==null||a.reset(),x()};let s=_(9),c=_();const x=()=>{c.value=Math.round(Math.random()*s.value)};x();let N=_(),m=_(!0);const h=()=>{m.value=!1,M(()=>{var a;(a=N.value)==null||a.focus(),f()})},A=()=>{m.value=!0,x()};return(a,e)=>{const d=U,v=H,r=Y,g=O;return D(),V(E,null,[n(d),o("div",tt,[e[4]||(e[4]=o("div",{class:"randomNum_title"},"随机数",-1)),n(v,{modelValue:I(s),"onUpdate:modelValue":e[0]||(e[0]=S=>$(s)?s.value=S:s=S),type:"digit",label:"最大值",class:"numInput",placeholder:"请输入随机数的最大值",ref_key:"inputRef",ref:N,disabled:I(m),onBlur:A,maxlength:6},null,8,["modelValue","disabled"]),n(r,{class:"my-rolling-text",ref_key:"rollingTextRef",ref:l,"start-num":0,"target-num":I(c),"auto-start":!1},null,8,["target-num"]),o("div",et,[o("div",{class:"controlItem",onClick:i},[n(g,{class:"controlItem_icon",name:"play-circle-o"}),e[1]||(e[1]=o("span",{class:"controlItem_text"},"开始",-1))]),o("div",{class:"controlItem",onClick:f},[n(g,{class:"controlItem_icon",name:"replay"}),e[2]||(e[2]=o("span",{class:"controlItem_text"},"重置",-1))]),o("div",{class:"controlItem",onClick:h},[n(g,{class:"controlItem_icon",name:"edit"}),e[3]||(e[3]=o("span",{class:"controlItem_text"},"输入",-1))])])])],64)}}}),dt=Z(at,[["__scopeId","data-v-45476b05"]]);export{dt as default};
