import{u as V,e as F,a as H}from"./use-route-IHgQ6GTt.js";import{I as _}from"./_plugin-vue_export-helper-B23Ac8Lp.js";import{d as B,Y as v,y as d,q as O,k as J,p as b,aj as Y,b as o,a9 as G,A as z,z as K,af as L,ao as Q,w as P,j as W,aC as X,v as $,s as Z,P as ee,aD as ne,J as te,V as oe,av as ae,r as ie,ae as se}from"./index-BeP3gcyx.js";import{u as le}from"./use-expose-CQIS9pGU.js";import{P as ce}from"./index-CamQlpZW.js";const[re,h]=O("loading"),ue=Array(12).fill(null).map((e,n)=>o("i",{class:h("line",String(n+1))},null)),de=o("svg",{class:h("circular"),viewBox:"25 25 50 50"},[o("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),fe={size:v,type:d("circular"),color:String,vertical:Boolean,textSize:v,textColor:String};var ge=B({name:re,props:fe,setup(e,{slots:n}){const t=J(()=>b({color:e.color},Y(e.size))),c=()=>{const s=e.type==="spinner"?ue:de;return o("span",{class:h("spinner",e.type),style:t.value},[n.icon?n.icon():s])},l=()=>{var s;if(n.default)return o("span",{class:h("text"),style:{fontSize:G(e.textSize),color:(s=e.textColor)!=null?s:e.color}},[n.default()])};return()=>{const{type:s,vertical:u}=e;return o("div",{class:h([s,{vertical:u}]),"aria-live":"polite","aria-busy":!0},[c(),l()])}}});const j=z(ge),[me,m]=O("button"),ye=b({},H,{tag:d("button"),text:String,icon:String,type:d("default"),size:d("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:d("button"),loadingSize:v,loadingText:String,loadingType:String,iconPosition:d("left")});var ve=B({name:me,props:ye,emits:["click"],setup(e,{emit:n,slots:t}){const c=V(),l=()=>t.loading?t.loading():o(j,{size:e.loadingSize,type:e.loadingType,class:m("loading")},null),s=()=>{if(e.loading)return l();if(t.icon)return o("div",{class:m("icon")},[t.icon()]);if(e.icon)return o(_,{name:e.icon,class:m("icon"),classPrefix:e.iconPrefix},null)},u=()=>{let a;if(e.loading?a=e.loadingText:a=t.default?t.default():e.text,a)return o("span",{class:m("text")},[a])},k=()=>{const{color:a,plain:g}=e;if(a){const i={color:g?a:"white"};return g||(i.background=a),a.includes("gradient")?i.border=0:i.borderColor=a,i}},f=a=>{e.loading?K(a):e.disabled||(n("click",a),c())};return()=>{const{tag:a,type:g,size:i,block:r,round:p,plain:x,square:w,loading:I,disabled:M,hairline:N,nativeType:A,iconPosition:D}=e,E=[m([g,i,{plain:x,block:r,round:p,square:w,loading:I,disabled:M,hairline:N}]),{[F]:N}];return o(a,{type:A,class:E,style:k(),disabled:M,onClick:f},{default:()=>[o("div",{class:m("content")},[D==="left"&&s(),u(),D==="right"&&s()])]})}}});const Le=z(ve);let S=0;function be(e){e?(S||document.body.classList.add("van-toast--unclickable"),S++):S&&(S--,S||document.body.classList.remove("van-toast--unclickable"))}const[ke,y]=O("toast"),Se=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],he={icon:String,show:Boolean,type:d("text"),overlay:Boolean,message:v,iconSize:v,duration:Q(2e3),position:d("middle"),teleport:[String,Object],wordBreak:String,className:L,iconPrefix:String,transition:d("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:L,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:v};var R=B({name:ke,props:he,emits:["update:show"],setup(e,{emit:n,slots:t}){let c,l=!1;const s=()=>{const i=e.show&&e.forbidClick;l!==i&&(l=i,be(l))},u=i=>n("update:show",i),k=()=>{e.closeOnClick&&u(!1)},f=()=>clearTimeout(c),a=()=>{const{icon:i,type:r,iconSize:p,iconPrefix:x,loadingType:w}=e;if(i||r==="success"||r==="fail")return o(_,{name:i||r,size:p,class:y("icon"),classPrefix:x},null);if(r==="loading")return o(j,{class:y("loading"),size:p,type:w},null)},g=()=>{const{type:i,message:r}=e;if(t.message)return o("div",{class:y("text")},[t.message()]);if(ee(r)&&r!=="")return i==="html"?o("div",{key:0,class:y("text"),innerHTML:String(r)},null):o("div",{class:y("text")},[r])};return P(()=>[e.show,e.forbidClick],s),P(()=>[e.show,e.type,e.message,e.duration],()=>{f(),e.show&&e.duration>0&&(c=setTimeout(()=>{u(!1)},e.duration))}),W(s),X(s),()=>o(ce,$({class:[y([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:k,onClosed:f,"onUpdate:show":u},Z(e,Se)),{default:()=>[a(),g()]})}});function pe(){const e=te({show:!1}),n=l=>{e.show=l},t=l=>{b(e,l,{transitionAppear:!0}),n(!0)},c=()=>n(!1);return le({open:t,close:c,toggle:n}),{open:t,close:c,state:e,toggle:n}}function Ce(e){const n=ne(e),t=document.createElement("div");return document.body.appendChild(t),{instance:n.mount(t),unmount(){n.unmount(),document.body.removeChild(t)}}}const xe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let C=[],we=!1,U=b({},xe);const Pe=new Map;function q(e){return ae(e)?e:{message:e}}function Be(){const{instance:e}=Ce({setup(){const n=ie(""),{open:t,state:c,close:l,toggle:s}=pe(),u=()=>{},k=()=>o(R,$(c,{onClosed:u,"onUpdate:show":s}),null);return P(n,f=>{c.message=f}),se().render=k,{open:t,close:l,message:n}}});return e}function Oe(){if(!C.length||we){const e=Be();C.push(e)}return C[C.length-1]}function ze(e={}){if(!oe)return{};const n=Oe(),t=q(e);return n.open(b({},U,Pe.get(t.type||U.type),t)),n}const T=e=>n=>ze(b({type:e},q(n))),Ue=T("loading"),_e=T("success"),$e=T("fail");z(R);export{Le as B,ze as a,_e as b,Ue as c,Ce as m,$e as s,pe as u};
