import{d as D,p as U,q as M,r as h,b as n,s as H,v as Q,x as G,y as $,z as J,A as W,k as X,c as Y,a as p,l as s,t as A,u as y,g as I,m as L,F as P,B as Z,o as v,e as ee,j as te,i as O,C as oe,D as ae}from"./index-DJDAe9jE.js";import{S as ne,T as se,g as le,a as ce,b as re,c as ie,d as ue}from"./search-DPDkbPUI.js";import"./index-DFeoUtxf.js";import{F as pe,f as z}from"./index-bURWK9EO.js";import{m as de}from"./vantTool-BmwitnxW.js";import{u as j}from"./hero-hHXSwgpb.js";import{P as me}from"./function-call-B3kUUTf8.js";import{B as _e}from"./index-wq8Bwa08.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as fe}from"./use-id-CtpVH9Y8.js";import{u as he}from"./use-expose-B-AMWMb2.js";import"./use-route-BX3t56Xa.js";import"./use-tab-status-Ats4tMVz.js";import"./index-u1k0HtwB.js";import"./on-popup-reopen-klTz5Z2y.js";import"./interceptor-BCONU5dv.js";import"./request-BQAWiGNo.js";import"./index-C8Btbo1O.js";import"./use-scope-id-BVyilLZb.js";const[ve,V,be]=M("search"),ge=U({},z,{label:String,shape:$("square"),leftIcon:$("search"),clearable:G,actionText:String,background:String,showAction:Boolean});var ke=D({name:ve,props:ge,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(l,{emit:o,slots:c,attrs:r}){const d=fe(),i=h(),m=()=>{c.action||(o("update:modelValue",""),o("cancel"))},x=e=>{e.keyCode===13&&(J(e),o("search",l.modelValue))},b=()=>l.id||`${d}-input`,g=()=>{if(c.label||l.label)return n("label",{class:V("label"),for:b(),"data-allow-mismatch":"attribute"},[c.label?c.label():l.label])},C=()=>{if(l.showAction){const e=l.actionText||be("cancel");return n("div",{class:V("action"),role:"button",tabindex:0,onClick:m},[c.action?c.action():e])}},B=()=>{var e;return(e=i.value)==null?void 0:e.blur()},k=()=>{var e;return(e=i.value)==null?void 0:e.focus()},_=e=>o("blur",e),t=e=>o("focus",e),a=e=>o("clear",e),u=e=>o("clickInput",e),S=e=>o("clickLeftIcon",e),F=e=>o("clickRightIcon",e),N=Object.keys(z),R=()=>{const e=U({},r,H(l,N),{id:b()}),T=E=>o("update:modelValue",E);return n(pe,Q({ref:i,type:"search",class:V("field",{"with-message":e.errorMessage}),border:!1,onBlur:_,onFocus:t,onClear:a,onKeypress:x,onClickInput:u,onClickLeftIcon:S,onClickRightIcon:F,"onUpdate:modelValue":T},e),H(c,["left-icon","right-icon"]))};return he({focus:k,blur:B}),()=>{var e;return n("div",{class:V({"show-action":l.showAction}),style:{background:l.background}},[(e=c.left)==null?void 0:e.call(c),n("div",{class:V("content",l.shape)},[g(),R()]),C()])}}});const we=W(ke),ye={class:"popupBottom"},Ie={class:"title"},xe={class:"buttomBox"},Ce=D({__name:"popupBottom",props:{showBottom:{type:Boolean,default:!1}},emits:["showPopupFun"],setup(l,{emit:o}){const c=[{name:"安卓Q区",value:"aqq",type:"primary"},{name:"苹果Q区",value:"iqq",type:"success"},{name:"安卓V区",value:"awx",type:"warning"},{name:"苹果V区",value:"iwx",type:"danger"}],r=j();let d=X(()=>r.heroName);const i=o,m=()=>{i("showPopupFun",!1)},x=Z(),b=g=>{r.setRegionValue(g),x.push("/battle")};return(g,C)=>{const B=_e,k=me;return v(),Y(k,{onClickOverlay:m,show:l.showBottom,round:"",position:"bottom",style:{height:"35%"}},{default:p(()=>[s("div",ye,[s("div",Ie,"当前查询【"+A(y(d))+"】，请选择系统",1),s("div",xe,[(v(),I(P,null,L(c,(_,t)=>n(B,{round:"",type:_.type,class:"buttomItem",key:t,onClick:a=>b(_.value)},{default:p(()=>[ee(A(_.name),1)]),_:2},1032,["type","onClick"])),64))])])]),_:1},8,["show"])}}}),Be=K(Ce,[["__scopeId","data-v-4de6721d"]]),Se={class:"search_container"},Ve={class:"heroList"},Pe={class:"heroList"},Te=["onClick"],Le={class:"heroImg"},Fe={class:"heroText"},Ne=D({__name:"index",setup(l){let o=h("");const c=["全部","战士","法师","坦克","刺客","射手","辅助"];let r=h(0),d=h(),i=h(),m=h(!1);const x=async()=>{m.value=!0;let t=await le();t.code===200?(d.value=t.data,i.value=t.data,m.value=!1):de.info("当前网络不佳")};te(()=>{x()});const b=t=>{var a;if(t===0){i.value=d.value;return}i.value=(a=d.value)==null?void 0:a.filter(u=>u.hero_type===t||u.hero_type2===t)},g=t=>{var u;let a=t.trim();a===""&&r.value!==0&&(r.value=0),i.value=(u=d.value)==null?void 0:u.filter(S=>S.cname.includes(a))};let C=h(!1);const B=j(),k=t=>{C.value=t},_=t=>{k(!0),B.setHeroName(t)};return(t,a)=>{const u=ce,S=ne,F=we,N=ue,R=ie,e=re,T=se,E=oe("lazy");return v(),I(P,null,[s("div",Se,[n(S,{class:"search_swipe",autoplay:6e3,"indicator-color":"white"},{default:p(()=>[n(u,null,{default:p(()=>[...a[2]||(a[2]=[s("div",{class:"textbox"},[s("span",{class:"title"},"王者荣耀战力查询"),s("span",{class:"text"},"助您更好的拿下国标")],-1)])]),_:1}),n(u,null,{default:p(()=>[...a[3]||(a[3]=[s("div",{class:"textbox"},[s("span",{class:"title"},"如有什么问题"),s("span",{class:"text"},"前往设置联系作者")],-1)])]),_:1})]),_:1}),n(F,{"onUpdate:modelValue":[g,a[0]||(a[0]=f=>O(o)?o.value=f:o=f)],modelValue:y(o),placeholder:"请输入搜索英雄"},null,8,["modelValue"]),n(T,{active:y(r),"onUpdate:active":a[1]||(a[1]=f=>O(r)?r.value=f:r=f),animated:"",onChange:b},{default:p(()=>[(v(),I(P,null,L(c,(f,q)=>n(e,{key:q,title:f,name:q},{default:p(()=>[n(R,{loading:y(m)},{template:p(()=>[s("div",Ve,[(v(),I(P,null,L(20,w=>n(N,{class:"heroItem",key:w})),64))])]),default:p(()=>[s("div",Pe,[(v(!0),I(P,null,L(y(i),w=>(v(),I("div",{class:"heroItem",key:w.ename,onClick:Re=>_(w.cname)},[ae(s("img",Le,null,512),[[E,w.iconUrl]]),s("span",Fe,A(w.cname),1)],8,Te))),128))])]),_:2},1032,["loading"])]),_:2},1032,["title","name"])),64))]),_:1},8,["active"])]),n(Be,{showBottom:y(C),onShowPopupFun:k},null,8,["showBottom"])],64)}}}),et=K(Ne,[["__scopeId","data-v-548dd673"]]);export{et as default};
