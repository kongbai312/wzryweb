import{d as x,Y as m,y as p,q as O,k as L,p as g,ai as N,b as o,a9 as j,A,af as S,an as U,w as h,j as _,aF as V,v as I,s as $,P as q,aG as D,J as E,V as F,au as G,r as H,ae as J}from"./index-mUJzLBod.js";import{u as Y}from"./use-expose-BV3qCCX3.js";import{I as K}from"./index-B9T57ikj.js";import{P as Q}from"./index-BItfs3mF.js";const[R,y]=O("loading"),W=Array(12).fill(null).map((e,t)=>o("i",{class:y("line",String(t+1))},null)),X=o("svg",{class:y("circular"),viewBox:"25 25 50 50"},[o("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Z={size:m,type:p("circular"),color:String,vertical:Boolean,textSize:m,textColor:String};var ee=x({name:R,props:Z,setup(e,{slots:t}){const n=L(()=>g({color:e.color},N(e.size))),i=()=>{const a=e.type==="spinner"?W:X;return o("span",{class:y("spinner",e.type),style:n.value},[t.icon?t.icon():a])},s=()=>{var a;if(t.default)return o("span",{class:y("text"),style:{fontSize:j(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:r}=e;return o("div",{class:y([a,{vertical:r}]),"aria-live":"polite","aria-busy":!0},[i(),s()])}}});const te=A(ee);let f=0;function ne(e){e?(f||document.body.classList.add("van-toast--unclickable"),f++):f&&(f--,f||document.body.classList.remove("van-toast--unclickable"))}const[oe,u]=O("toast"),ae=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],se={icon:String,show:Boolean,type:p("text"),overlay:Boolean,message:m,iconSize:m,duration:U(2e3),position:p("middle"),teleport:[String,Object],wordBreak:String,className:S,iconPrefix:String,transition:p("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:S,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:m};var ie=x({name:oe,props:se,emits:["update:show"],setup(e,{emit:t,slots:n}){let i,s=!1;const a=()=>{const l=e.show&&e.forbidClick;s!==l&&(s=l,ne(s))},r=l=>t("update:show",l),k=()=>{e.closeOnClick&&r(!1)},d=()=>clearTimeout(i),z=()=>{const{icon:l,type:c,iconSize:C,iconPrefix:B,loadingType:M}=e;if(l||c==="success"||c==="fail")return o(K,{name:l||c,size:C,class:u("icon"),classPrefix:B},null);if(c==="loading")return o(te,{class:u("loading"),size:C,type:M},null)},T=()=>{const{type:l,message:c}=e;if(n.message)return o("div",{class:u("text")},[n.message()]);if(q(c)&&c!=="")return l==="html"?o("div",{key:0,class:u("text"),innerHTML:String(c)},null):o("div",{class:u("text")},[c])};return h(()=>[e.show,e.forbidClick],a),h(()=>[e.show,e.type,e.message,e.duration],()=>{d(),e.show&&e.duration>0&&(i=setTimeout(()=>{r(!1)},e.duration))}),_(a),V(a),()=>o(Q,I({class:[u([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:k,onClosed:d,"onUpdate:show":r},$(e,ae)),{default:()=>[z(),T()]})}});function le(){const e=E({show:!1}),t=s=>{e.show=s},n=s=>{g(e,s,{transitionAppear:!0}),t(!0)},i=()=>t(!1);return Y({open:n,close:i,toggle:t}),{open:n,close:i,state:e,toggle:t}}function ce(e){const t=D(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const re={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let v=[],ue=!1,b=g({},re);const de=new Map;function P(e){return G(e)?e:{message:e}}function fe(){const{instance:e}=ce({setup(){const t=H(""),{open:n,state:i,close:s,toggle:a}=le(),r=()=>{},k=()=>o(ie,I(i,{onClosed:r,"onUpdate:show":a}),null);return h(t,d=>{i.message=d}),J().render=k,{open:n,close:s,message:t}}});return e}function me(){if(!v.length||ue){const e=fe();v.push(e)}return v[v.length-1]}function ye(e={}){if(!F)return{};const t=me(),n=P(e);return t.open(g({},b,de.get(n.type||b.type),n)),t}const w=e=>t=>ye(g({type:e},P(t))),we=w("loading"),Ce=w("success"),Se=w("fail");export{te as L,ye as a,Ce as b,we as c,ie as d,ce as m,Se as s,le as u};
