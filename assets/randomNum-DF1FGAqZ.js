import{d as p,ao as y,y as k,E as L,q as R,k as u,a9 as C,b as n,x as T,ap as w,r as _,w as B,Q as F,A as P,g as D,l as s,u as I,i as V,F as $,a1 as E,o as M}from"./index-Dx7gVCDM.js";import"./index-DNr-CpmN.js";import{F as H}from"./index-C39rL50J.js";import{_ as U}from"./narback.vue_vue_type_script_setup_true_lang-S9mRL3HJ.js";import{u as O}from"./use-expose-DnYapoKH.js";import{I as j}from"./index-Ck4OSXI3.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-route-DMWcdgNY.js";import"./use-id-jnhXNEBJ.js";import"./use-placeholder-C8EWTx8E.js";import"./on-popup-reopen-B-ZGjRfI.js";const Q={figureArr:L(),delay:Number,duration:y(2),isStart:Boolean,direction:k("down"),height:y(40)},[Z,b]=R("rolling-text-item");var z=p({name:Z,props:Q,setup(t){const l=u(()=>t.direction==="down"?t.figureArr.slice().reverse():t.figureArr),i=u(()=>`-${t.height*(t.figureArr.length-1)}px`),f=u(()=>({lineHeight:C(t.height)})),o=u(()=>({height:C(t.height),"--van-translate":i.value,"--van-duration":t.duration+"s","--van-delay":t.delay+"s"}));return()=>n("div",{class:b([t.direction]),style:o.value},[n("div",{class:b("box",{animate:t.isStart})},[Array.isArray(l.value)&&l.value.map(c=>n("div",{class:b("item"),style:f.value},[c]))])])}});const[G,J]=R("rolling-text"),K={startNum:y(0),targetNum:Number,textList:L(),duration:y(2),autoStart:T,direction:k("down"),stopOrder:k("ltr"),height:y(40)},W=2;var X=p({name:G,props:K,setup(t){const l=u(()=>Array.isArray(t.textList)&&t.textList.length),i=u(()=>l.value?t.textList[0].length:`${Math.max(t.startNum,t.targetNum)}`.length),f=a=>{const e=[];for(let d=0;d<t.textList.length;d++)e.push(t.textList[d][a]);return e},o=u(()=>l.value?new Array(i.value).fill(""):w(t.targetNum,i.value).split("")),c=u(()=>w(t.startNum,i.value).split("")),x=a=>{const e=+c.value[a],d=+o.value[a],v=[];for(let r=e;r<=9;r++)v.push(r);for(let r=0;r<=W;r++)for(let g=0;g<=9;g++)v.push(g);for(let r=0;r<=d;r++)v.push(r);return v},N=(a,e)=>t.stopOrder==="ltr"?.2*a:.2*(e-1-a),m=_(t.autoStart),h=()=>{m.value=!0},A=()=>{m.value=!1,t.autoStart&&F(()=>h())};return B(()=>t.autoStart,a=>{a&&h()}),O({start:h,reset:A}),()=>n("div",{class:J()},[o.value.map((a,e)=>n(z,{figureArr:l.value?f(e):x(e),duration:t.duration,direction:t.direction,isStart:m.value,height:t.height,delay:N(e,i.value)},null))])}});const Y=P(X),tt={class:"randomNum_container"},et={class:"control_box"},at=p({__name:"randomNum",setup(t){const l=_(),i=()=>{var a;(a=l.value)==null||a.start()},f=()=>{var a;(a=l.value)==null||a.reset(),x()};let o=_(9),c=_();const x=()=>{c.value=Math.round(Math.random()*o.value)};x();let N=_(),m=_(!0);const h=()=>{m.value=!1,E(()=>{var a;(a=N.value)==null||a.focus(),f()})},A=()=>{m.value=!0,x()};return(a,e)=>{const d=U,v=H,r=Y,g=j;return M(),D($,null,[n(d),s("div",tt,[e[4]||(e[4]=s("div",{class:"randomNum_title"},"随机数",-1)),n(v,{modelValue:I(o),"onUpdate:modelValue":e[0]||(e[0]=S=>V(o)?o.value=S:o=S),type:"digit",label:"最大值",class:"numInput",placeholder:"请输入随机数的最大值",ref_key:"inputRef",ref:N,disabled:I(m),onBlur:A,maxlength:6},null,8,["modelValue","disabled"]),n(r,{class:"my-rolling-text",ref_key:"rollingTextRef",ref:l,"start-num":0,"target-num":I(c),"auto-start":!1},null,8,["target-num"]),s("div",et,[s("div",{class:"controlItem",onClick:i},[n(g,{class:"controlItem_icon",name:"play-circle-o"}),e[1]||(e[1]=s("span",{class:"controlItem_text"},"开始",-1))]),s("div",{class:"controlItem",onClick:f},[n(g,{class:"controlItem_icon",name:"replay"}),e[2]||(e[2]=s("span",{class:"controlItem_text"},"重置",-1))]),s("div",{class:"controlItem",onClick:h},[n(g,{class:"controlItem_icon",name:"edit"}),e[3]||(e[3]=s("span",{class:"controlItem_text"},"输入",-1))])])])],64)}}}),ft=q(at,[["__scopeId","data-v-45476b05"]]);export{ft as default};
