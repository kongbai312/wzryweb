import{d as D,p as U,q as M,r as v,b as n,s as H,v as Q,x as G,y as $,z as J,A as W,k as X,c as Y,a as p,l as s,t as A,u as y,g as I,m as L,F as P,B as Z,o as b,e as ee,j as te,i as O,C as oe,D as ae}from"./index-Dx7gVCDM.js";import{S as ne,T as se,g as le,a as ce,b as re,c as ie,d as ue}from"./search-CSP57Kls.js";import"./index-DNr-CpmN.js";import{F as pe,f as z}from"./index-C39rL50J.js";import{m as de}from"./vantTool--bcjO0Xc.js";import{u as j}from"./hero-X3gTKIAD.js";import{P as me}from"./index-CAETCE2G.js";import{B as _e}from"./index-0yHTpUBq.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as fe}from"./use-id-jnhXNEBJ.js";import{u as he}from"./use-expose-DnYapoKH.js";import"./use-route-DMWcdgNY.js";import"./index-Ck4OSXI3.js";import"./on-popup-reopen-B-ZGjRfI.js";import"./interceptor-CtbgOAHX.js";import"./request-DI0QzNju.js";import"./use-scope-id-KmiGfVoO.js";const[ve,V,be]=M("search"),ge=U({},z,{label:String,shape:$("square"),leftIcon:$("search"),clearable:G,actionText:String,background:String,showAction:Boolean});var ke=D({name:ve,props:ge,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(c,{emit:o,slots:l,attrs:r}){const d=fe(),i=v(),m=()=>{l.action||(o("update:modelValue",""),o("cancel"))},x=e=>{e.keyCode===13&&(J(e),o("search",c.modelValue))},g=()=>c.id||`${d}-input`,_=()=>{if(l.label||c.label)return n("label",{class:V("label"),for:g(),"data-allow-mismatch":"attribute"},[l.label?l.label():c.label])},C=()=>{if(c.showAction){const e=c.actionText||be("cancel");return n("div",{class:V("action"),role:"button",tabindex:0,onClick:m},[l.action?l.action():e])}},B=()=>{var e;return(e=i.value)==null?void 0:e.blur()},k=()=>{var e;return(e=i.value)==null?void 0:e.focus()},f=e=>o("blur",e),t=e=>o("focus",e),a=e=>o("clear",e),u=e=>o("clickInput",e),S=e=>o("clickLeftIcon",e),F=e=>o("clickRightIcon",e),N=Object.keys(z),R=()=>{const e=U({},r,H(c,N),{id:g()}),T=E=>o("update:modelValue",E);return n(pe,Q({ref:i,type:"search",class:V("field",{"with-message":e.errorMessage}),border:!1,onBlur:f,onFocus:t,onClear:a,onKeypress:x,onClickInput:u,onClickLeftIcon:S,onClickRightIcon:F,"onUpdate:modelValue":T},e),H(l,["left-icon","right-icon"]))};return he({focus:k,blur:B}),()=>{var e;return n("div",{class:V({"show-action":c.showAction}),style:{background:c.background}},[(e=l.left)==null?void 0:e.call(l),n("div",{class:V("content",c.shape)},[_(),R()]),C()])}}});const we=W(ke),ye={class:"popupBottom"},Ie={class:"title"},xe={class:"buttomBox"},Ce=D({__name:"popupBottom",props:{showBottom:{type:Boolean,default:!1}},emits:["showPopupFun"],setup(c,{emit:o}){const l=[{name:"安卓Q区",value:"aqq",type:"primary"},{name:"苹果Q区",value:"iqq",type:"success"},{name:"安卓V区",value:"awx",type:"warning"},{name:"苹果V区",value:"iwx",type:"danger"}],r=j();let d=X(()=>r.heroName);const i=o,m=()=>{i("showPopupFun",!1)},x=Z(),g=_=>{r.setRegionValue(_),x.push("/battle")};return(_,C)=>{const B=_e,k=me;return b(),Y(k,{onClickOverlay:m,show:_.showBottom,round:"",position:"bottom",style:{height:"35%"}},{default:p(()=>[s("div",ye,[s("div",Ie,"当前查询【"+A(y(d))+"】，请选择系统",1),s("div",xe,[(b(),I(P,null,L(l,(f,t)=>n(B,{round:"",type:f.type,class:"buttomItem",key:t,onClick:a=>g(f.value)},{default:p(()=>[ee(A(f.name),1)]),_:2},1032,["type","onClick"])),64))])])]),_:1},8,["show"])}}}),Be=K(Ce,[["__scopeId","data-v-f057b41e"]]),Se={class:"search_container"},Ve={class:"heroList"},Pe={class:"heroList"},Te=["onClick"],Le={class:"heroImg"},Fe={class:"heroText"},Ne=D({__name:"index",setup(c){let o=v("");const l=["全部","战士","法师","坦克","刺客","射手","辅助"];let r=v(0),d=v(),i=v(),m=v(!1);const x=async()=>{m.value=!0;let t=await le();t.code===200?(d.value=t.data,i.value=t.data,m.value=!1):de.info("当前网络不佳")};te(()=>{x()});const g=t=>{var a;if(t===0){i.value=d.value;return}i.value=(a=d.value)==null?void 0:a.filter(u=>u.hero_type===t||u.hero_type2===t)},_=t=>{var u;let a=t.trim();a===""&&r.value!==0&&(r.value=0),i.value=(u=d.value)==null?void 0:u.filter(S=>S.cname.includes(a))};let C=v(!1);const B=j(),k=t=>{C.value=t},f=t=>{k(!0),B.setHeroName(t)};return(t,a)=>{const u=ce,S=ne,F=we,N=ue,R=ie,e=re,T=se,E=oe("lazy");return b(),I(P,null,[s("div",Se,[n(S,{class:"search_swipe",autoplay:6e3,"indicator-color":"white"},{default:p(()=>[n(u,null,{default:p(()=>a[2]||(a[2]=[s("div",{class:"textbox"},[s("span",{class:"title"},"王者荣耀战力查询"),s("span",{class:"text"},"助您更好的拿下国标")],-1)])),_:1}),n(u,null,{default:p(()=>a[3]||(a[3]=[s("div",{class:"textbox"},[s("span",{class:"title"},"如有什么问题"),s("span",{class:"text"},"前往设置联系作者")],-1)])),_:1})]),_:1}),n(F,{"onUpdate:modelValue":[_,a[0]||(a[0]=h=>O(o)?o.value=h:o=h)],modelValue:y(o),placeholder:"请输入搜索英雄"},null,8,["modelValue"]),n(T,{active:y(r),"onUpdate:active":a[1]||(a[1]=h=>O(r)?r.value=h:r=h),animated:"",onChange:g},{default:p(()=>[(b(),I(P,null,L(l,(h,q)=>n(e,{key:q,title:h,name:q},{default:p(()=>[n(R,{loading:y(m)},{template:p(()=>[s("div",Ve,[(b(),I(P,null,L(20,w=>n(N,{class:"heroItem",key:w})),64))])]),default:p(()=>[s("div",Pe,[(b(!0),I(P,null,L(y(i),w=>(b(),I("div",{class:"heroItem",key:w.ename,onClick:Re=>f(w.cname)},[ae(s("img",Le,null,512),[[E,w.iconUrl]]),s("span",Fe,A(w.cname),1)],8,Te))),128))])]),_:2},1032,["loading"])]),_:2},1032,["title","name"])),64))]),_:1},8,["active"])]),n(Be,{showBottom:y(C),onShowPopupFun:k},null,8,["showBottom"])],64)}}}),Ye=K(Ne,[["__scopeId","data-v-ee760a89"]]);export{Ye as default};
