import{d as j,r as l,j as H,k as E,g as N,b as r,l as t,u as n,t as c,a as p,n as V,o as f,i as G,F as L,m as S,c as J}from"./index-BeP3gcyx.js";import{C as K}from"./index-Cz9CS0Y-.js";import{C as P}from"./index-CQ6M4_C4.js";import{D as Q,a as X}from"./index-CcNdAxt0.js";import{N as Y}from"./index-xsg_GDiD.js";import{r as A}from"./request-CrGcdKXy.js";import{I as Z,_ as tt}from"./_plugin-vue_export-helper-B23Ac8Lp.js";import"./index-CamQlpZW.js";import"./use-expose-CQIS9pGU.js";import"./use-route-IHgQ6GTt.js";import"./interceptor-DVqSzefq.js";import"./use-id-BK2jniW6.js";const O="https://api.vvhan.com",et=()=>A({url:O+"/api/weather",method:"get"}),ot=w=>A({url:O+"/api/hotlist/"+w,method:"get"}),at={class:"homeBox"},nt={class:"weather_container"},st={class:"weather_Item"},lt={class:"text"},it={class:"weather_Item"},rt={class:"text"},ct={class:"weather_Item"},ut={class:"text"},_t={class:"hot_container"},dt={class:"top"},mt={class:"top_title"},pt={class:"title"},vt={class:"top_right"},ht={class:"cellItem_title"},xt=j({__name:"index",setup(w){let g=l("O.o？"),v=l(),C=l();const U=async()=>{let e=await et();e.success===!0&&(v.value=e.data,C.value=e.air,g.value=`当前位于：${e.city}`)};H(()=>{U()});const u=l(0),_=[{text:"微博热搜",value:0,name:"wbHot"},{text:"抖音热点",value:1,name:"douyinHot"},{text:"百度热搜",value:2,name:"baiduRD"},{text:"知乎热点",value:3,name:"zhihuHot"},{text:"今日头条",value:4,name:"toutiao"},{text:"知乎日报",value:5,name:"zhihuDay"},{text:"B站日榜",value:6,name:"bili"}],z=e=>{D(_[e].name)};let h=l(!1);const I=()=>{h.value=!h.value};let k=l();const D=async e=>{var i;let o=await ot(e);k.value=(i=o.data)==null?void 0:i.map(s=>({index:s.index,hot:s.hot,mobileUrl:s.mobilUrl,url:s.url,title:s.title}))};H(()=>{D(_[u.value].name)});let d=l(0),M=E(()=>{var i;let e=d.value*10,o=e+10;return(i=k.value)==null?void 0:i.slice(e,o)}),x=l(!1),m=null;const R=()=>{x.value=!0,d.value++,d.value===3&&(d.value=0),m&&clearTimeout(m),m=setTimeout(()=>{x.value=!1,m=null},300)},$=e=>{window.open(e.url,"_blank")};return(e,o)=>{var b,y,B;const i=Y,s=Z,q=X,F=Q,T=P,W=K;return f(),N("div",at,[r(i,{class:"home_noticeBar","left-icon":"volume-o",text:n(g)},null,8,["text"]),t("div",nt,[o[4]||(o[4]=t("div",{class:"weather_img"},[t("svg",{"aria-hidden":"true"},[t("use",{href:"#icon-weather-cloudy"})])],-1)),t("div",st,[o[1]||(o[1]=t("span",{class:"title"},"空气质量",-1)),t("span",lt,c((b=n(C))==null?void 0:b.aqi_name),1)]),t("div",it,[o[2]||(o[2]=t("span",{class:"title"},"最低气温",-1)),t("span",rt,c((y=n(v))==null?void 0:y.low),1)]),t("div",ct,[o[3]||(o[3]=t("span",{class:"title"},"最高气温",-1)),t("span",ut,c((B=n(v))==null?void 0:B.high),1)])]),t("div",_t,[t("div",dt,[r(F,null,{default:p(()=>[r(q,{modelValue:n(u),"onUpdate:modelValue":o[0]||(o[0]=a=>G(u)?u.value=a:null),options:_,onOpen:I,onClose:I,onChange:z},{title:p(()=>[t("div",mt,[t("div",pt,c(_[n(u)].text),1),r(s,{name:n(h)?"arrow-down":"arrow"},null,8,["name"])])]),_:1},8,["modelValue"])]),_:1}),t("div",vt,[r(s,{name:"replay",class:V(["right_icon",{right_icon_rotate:n(x)}])},null,8,["class"]),t("span",{onClick:R},"换一批")])]),r(W,null,{default:p(()=>[(f(!0),N(L,null,S(n(M),a=>(f(),J(T,{key:a.index,title:a.title,"title-class":"cellItem_titleBox",onClick:ft=>$(a)},{title:p(()=>[t("span",{class:V(["cellItem_index",a.index<=3?`hot_class_${a.index}`:""])},c(a.index),3),t("span",ht,c(a.title),1)]),_:2},1032,["title","onClick"]))),128))]),_:1})])])}}}),At=tt(xt,[["__scopeId","data-v-f696e32d"]]);export{At as default};
